<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ² í–‰ìš´í…ŒìŠ¤íŠ¸</title>
  <style>
    body {
      background-color: #fff8f0;
      font-family: 'Nanum Gothic', 'Arial', sans-serif;
      text-align: center;
      padding: 40px;
      line-height: 1.6;
      color: #333;
    }
    input, button {
      font-size: 16px;
      padding: 8px;
      margin: 6px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      cursor: pointer;
      background-color: #f39c12;
      border: none;
      color: white;
      font-weight: bold;
    }
    button:hover {
      background-color: #d67e00;
    }
    #gameArea {
      margin-top: 30px;
    }
    #message {
      margin-top: 20px;
      font-size: 22px;
      font-weight: 600;
    }
    #poem {
      margin-top: 25px;
      font-size: 20px;
      white-space: pre-line;
      font-style: italic;
      color: #555;
      border-left: 3px solid #f39c12;
      padding-left: 15px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      min-height: 180px;
    }
  </style>
</head>
<body>
  <h1>ğŸ”¢ ìˆ«ì ë§ì¶”ê¸° ê²Œì„ + 3ì—° 9í–‰ ìš´ì„¸ ì‹œ</h1>

  <label for="birthInput">ìƒë…„ì›”ì¼ ì…ë ¥:</label><br />
  <input type="date" id="birthInput" /><br />

  <label for="favNumberInput">ì¢‹ì•„í•˜ëŠ” ìˆ«ì ì…ë ¥ (1~99):</label><br />
  <input type="number" id="favNumberInput" min="1" max="99" /><br />

  <button onclick="startGame()">ê²Œì„ ì‹œì‘</button>

  <div id="gameArea" style="display:none;">
    <p>1ë¶€í„° 10ê¹Œì§€ ìˆ«ìë¥¼ ë§ì¶°ë³´ì„¸ìš”!</p>
    <input type="number" id="guessInput" min="1" max="10" placeholder="ìˆ«ì ì…ë ¥" />
    <button onclick="checkGuess()">ì œì¶œ</button>
    <div id="message"></div>
    <div id="poem"></div>
  </div>

  <script>
    let secretNumber = null;
    let attempts = 0;

    // ìƒë…„ì›”ì¼ê³¼ ì¢‹ì•„í•˜ëŠ” ìˆ«ìë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê²°ì •ì  ëœë¤ ìˆ«ì ìƒì„± (1~10)
    function generateSeededNumber(birth, favNum) {
      const combinedStr = birth.replace(/-/g, "") + favNum;
      let hash = 0;
      for (let i = 0; i < combinedStr.length; i++) {
        hash = (hash << 5) - hash + combinedStr.charCodeAt(i);
        hash |= 0; // 32bit int ë³€í™˜
      }
      return Math.abs(hash) % 10 + 1;
    }

    // 5ê°€ì§€ êµ¬ê°„ë³„ 3ì—° 9í–‰ ìš´ì„¸ ì‹œ
    const poems = {
      "1": [ // 1íšŒ ì‹œë„
        `ì˜¤ëŠ˜ì€ ë¹›ë‚˜ëŠ” í–‡ì‚´ ì•„ë˜  
ëª¨ë“  ê¸¸ì´ í™˜í•˜ê²Œ ì—´ë¦¬ê³   
ëœ»ë°–ì˜ ê¸°ì¨ì´ ë‹¤ê°€ì˜¤ë„¤  

ìì‹ ê° ê°€ë“í•œ ë°œê±¸ìŒì—  
í–‰ìš´ì´ í•¨ê»˜ ì¶¤ì„ ì¶”ë©°  
ìƒˆë¡œìš´ ì‹œì‘ì„ ë…¸ë˜í•˜ë„¤  

ê°€ìŠ´ ì† ë¶ˆê½ƒ í™œí™œ íƒ€ì˜¬ë¼  
ëì—†ëŠ” ê°€ëŠ¥ì„± í¼ì³ì§€ë‹ˆ  
ì˜¤ëŠ˜ í•˜ë£¨ ë¹›ë‚˜ë¦¬ë¼`
      ],
      "2-3": [ // 2~3íšŒ ì‹œë„
        `ì„œì„œíˆ ë‹¤ê°€ì˜¤ëŠ” ë°”ëŒê²°  
ê¸°íšŒì˜ ì”¨ì•— ë•…ì— ë¿Œë ¤ì§€ê³   
ì‘ì€ ì„±ì·¨ ê½ƒ í”¼ì–´ë‚˜ë„¤  

ê¾¸ì¤€í•œ ë…¸ë ¥ì´ ë¹›ì„ ë‚´ê³   
í¬ë§ì˜ ê¸¸ì´ í¼ì³ì§€ë©°  
ë§ˆìŒì€ ì ì  ë‹¨ë‹¨í•´ì ¸  

ì‘ì€ ê±¸ìŒ ëª¨ì—¬ í° ê±¸ìŒ  
ë‚´ì¼ì„ í–¥í•œ ë°œìêµ­ì†Œë¦¬  
í¬ë§ ê°€ë“ ë…¸ë˜í•˜ë¦¬ë¼`
      ],
      "4-5": [ // 4~5íšŒ ì‹œë„
        `ì ì‹œ ë¨¸ë¬¸ ë°”ëŒì€ ì°¨ê°‘ê³   
ì–´ë ¤ì›€ì˜ ê·¸ë¦¼ì ë“œë¦¬ìš°ì§€ë§Œ  
ì°¸ëŠ” ë§ˆìŒì€ ê½ƒì´ ë˜ë„¤  

ê²¬ë””ë©° í˜ë¦° ë•€ë°©ìš¸ ì†  
ì„±ì¥ì˜ ì—´ë§¤ ë§ºì–´ì§€ë‹ˆ  
í¬ê¸° ì•ŠëŠ” ë§ˆìŒ ë¹›ë‚˜ë¦¬ë¼  

ê³ ë‹¨í•œ ê¸¸ ëì— í”¼ëŠ” ê½ƒ  
ê¸°ë‹¤ë¦¼ì€ ê²°ì‹¤ì„ ë¶€ë¥´ê³   
ìƒˆë¡œìš´ ë¹›ì´ ë‹¤ê°€ì˜¤ë¦¬`
      ],
      "6-8": [ // 6~8íšŒ ì‹œë„
        `ë³µì¡í•œ ì„¸ìƒ ì†Œìš©ëŒì´ ì†  
í˜¼ë€ìŠ¤ëŸ° ë§ˆìŒ ì–´ì§€ëŸ¬ì›Œë„  
ì°¨ë¶„íˆ ê°€ë¼ì•‰íˆì†Œì„œ  

ë§ˆìŒì˜ ë°”ë‹¤ ì”ì”í•´ì§€ë©´  
íë ¤ì§„ ê¸¸ë„ í™˜íˆ ë³´ì´ê³   
í•´ë‹µì´ ì ì°¨ ì°¾ì•„ì˜¤ë¦¬  

ê¹Šì€ ìˆ¨ ê³ ë¥´ë©° ë‚˜ì•„ê°€ë©´  
ì–´ë‘  ë’¤ ë¹›ì´ ë°˜ì§ì´ë‹ˆ  
í‰í™”ì˜ ê¸¸ ì—´ë¦¬ë¦¬ë¼`
      ],
      "9+": [ // 9íšŒ ì´ìƒ ì‹œë„
        `ì–´ë‘ìš´ ë°¤ ì§€ë‚˜ ìƒˆë²½ ì˜¤ë“¯  
í˜ë“  ì‹œê°„ë„ ëë‚˜ê°€ê³   
í¬ë§ì˜ ë¹›ì´ ë‹¤ê°€ì˜¤ë„¤  

í¬ê¸°í•˜ì§€ ì•ŠëŠ” ê·¸ëŒ€ì˜ ë§ˆìŒ  
ê²¬ë”¤ ì†ì— í–‰ìš´ì´ ê¹ƒë“¤ê³   
ëê¹Œì§€ ìµœì„ ì„ ë‹¤í•˜ë¦¬  

ê¸¸ ëì—ì„œ í”¼ì–´ë‚˜ëŠ” ê½ƒ  
ìƒˆë¡œìš´ ë‚´ì¼ ê¸°ë‹¤ë¦¬ë‹ˆ  
ìš©ê¸° ìˆê²Œ ê±¸ì–´ê°€ì†Œì„œ`
      ]
    };

    // ê²Œì„ ì‹œì‘ í•¨ìˆ˜
    function startGame() {
      const birth = document.getElementById("birthInput").value;
      const favNum = parseInt(document.getElementById("favNumberInput").value);

      if (!birth) {
        alert("ìƒë…„ì›”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
        return;
      }
      if (isNaN(favNum) || favNum < 1 || favNum > 99) {
        alert("ì¢‹ì•„í•˜ëŠ” ìˆ«ìë¥¼ 1ì—ì„œ 99 ì‚¬ì´ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”!");
        return;
      }

      secretNumber = generateSeededNumber(birth, favNum);
      attempts = 0;

      document.getElementById("gameArea").style.display = "block";
      document.getElementById("message").innerText = "";
      document.getElementById("poem").innerText = "";
      document.getElementById("guessInput").value = "";
      document.getElementById("guessInput").focus();

      console.log("ë¹„ë°€ ìˆ«ì (ë””ë²„ê·¸):", secretNumber);
    }

    // ì •ë‹µ ì²´í¬ ë° ìš´ì„¸ ì‹œ ì¶œë ¥
    function checkGuess() {
      const guess = parseInt(document.getElementById("guessInput").value);
      const messageDiv = document.getElementById("message");
      const poemDiv = document.getElementById("poem");

      poemDiv.innerText = "";

      if (secretNumber === null) {
        alert("ë¨¼ì € ê²Œì„ì„ ì‹œì‘í•´ì£¼ì„¸ìš”!");
        return;
      }
      if (isNaN(guess) || guess < 1 || guess > 10) {
        alert("1ë¶€í„° 10ê¹Œì§€ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
        return;
      }

      attempts++;

      if (guess === secretNumber) {
        messageDiv.innerText = `ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ${attempts}ë²ˆ ë§Œì— ë§ì·„ì–´ìš”!`;

        let key = "";
        if (attempts === 1) key = "1";
        else if (attempts <= 3) key = "2-3";
        else if (attempts <= 5) key = "4-5";
        else if (attempts <= 8) key = "6-8";
        else key = "9+";

        const poemList = poems[key];
        const selectedPoem = poemList[Math.floor(Math.random() * poemList.length)];

        poemDiv.innerText = selectedPoem;

      } else if (guess < secretNumber) {
        messageDiv.innerText = `â¬†ï¸ ì—…! ë” í° ìˆ«ìì…ë‹ˆë‹¤. (ì‹œë„: ${attempts}íšŒ)`;
      } else {
        messageDiv.innerText = `â¬‡ï¸ ë‹¤ìš´! ë” ì‘ì€ ìˆ«ìì…ë‹ˆë‹¤. (ì‹œë„: ${attempts}íšŒ)`;
      }
    }
  </script>
</body>
</html>
